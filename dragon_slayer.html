<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dragon Slayer Adventure</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            font-family: 'Arial', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            color: white;
        }

        #gameContainer {
            text-align: center;
            background: rgba(0, 0, 0, 0.8);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.3);
        }

        #gameCanvas {
            border: 3px solid #00ffff;
            border-radius: 10px;
            background: linear-gradient(180deg, #87CEEB 0%, #98FB98 100%);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
        }

        h1 {
            margin-top: 0;
            color: #ffff00;
            font-size: 28px;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .date {
            font-size: 12px;
            color: #aaa;
            margin-bottom: 15px;
        }

        .instructions {
            font-size: 14px;
            margin: 10px 0;
            color: #ccc;
            max-width: 600px;
        }

        .stats {
            display: flex;
            justify-content: space-around;
            margin: 10px 0;
            font-size: 16px;
            font-weight: bold;
        }

        .stat {
            background: rgba(0, 255, 255, 0.2);
            padding: 8px 15px;
            border-radius: 20px;
            border: 1px solid #00ffff;
        }

        .controls {
            margin: 15px 0;
            font-size: 14px;
            color: #00ffff;
        }

        .buttons {
            margin: 15px 0;
        }

        button {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            border: none;
            color: white;
            padding: 12px 24px;
            margin: 0 10px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
        }

        .back-btn {
            background: linear-gradient(45deg, #667eea, #764ba2) !important;
        }

        .play-btn {
            background-color: #00e5ff;
            color: #fff;
            text-decoration: none;
            border-radius: 5px;
            font-size: 16px;
            box-shadow: 0 0 8px #00e5ff;
        }

        .play-btn:hover {
            background-color: #1affff;
            box-shadow: 0 0 12px #1affff;
        }

        ul {
            list-style: none;
            padding: 0;
        }

        li {
            margin: 12px 0;
        }

        li a {
            font-size: 18px;
            color: #ffff8f;
            text-decoration: underline;
            color: #ffffff;
        }

        li a:hover {
            text-decoration: underline;
            color: #ffffef;
        }

        .score {
            margin-left: 8px;
        }
    </style>
</head>
<body>
    <div id="gameContainer">
        <h1>üêâ Dragon Slayer Adventure</h1>
        <div class="date">Created: August 4, 2025</div>
        <div class="instructions">
            Embark on an epic quest to slay the ancient dragon! Navigate through mystical lands, collect treasures, and battle fierce enemies. Use WASD or Arrow Keys to move, SPACE to attack, and E to collect items. Defeat all enemies to unlock the dragon's lair!
        </div>

        <div class="stats">
            <div class="stat">Health: <span id="health">100</span></div>
            <div class="stat">Score: <span id="score">0</span></div>
            <div class="stat">Level: <span id="level">1</span></div>
            <div class="stat">Treasures: <span id="treasures">0</span></div>
        </div>

        <canvas id="gameCanvas" width="800" height="600"></canvas>

        <div class="controls">
            Use WASD or Arrow Keys to move ‚Ä¢ SPACE to attack ‚Ä¢ E to collect items ‚Ä¢ Defeat all enemies to win!
        </div>

        <div class="buttons">
            <button onclick="restartGame()">üîÑ Restart</button>
            <button onclick="pauseGame()">‚è∏Ô∏è Pause</button>
            <button class="back-btn" onclick="window.location.href='index.html'">üè† Back to Home</button>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');

        // Game state
        let gameState = {
            level: 1,
            health: 100,
            maxHealth: 100,
            score: 0,
            treasures: 0,
            paused: false,
            gameOver: false,
            victory: false,
            enemiesDefeated: 0,
            totalEnemies: 5
        };

        // Player object
        let player = {
            x: 100,
            y: 100,
            width: 32,
            height: 32,
            speed: 4,
            attacking: false,
            attackCooldown: 0,
            direction: 'right'
        };

        // Game objects arrays
        let enemies = [];
        let treasures = [];
        let particles = [];
        let projectiles = [];

        // Input handling
        let keys = {};
        
        document.addEventListener('keydown', (e) => {
            keys[e.key.toLowerCase()] = true;
            if (e.key === ' ') {
                e.preventDefault();
                attack();
            }
            if (e.key.toLowerCase() === 'e') {
                collectNearbyTreasures();
            }
        });

        document.addEventListener('keyup', (e) => {
            keys[e.key.toLowerCase()] = false;
        });

        // Enemy class
        class Enemy {
            constructor(x, y, type = 'goblin') {
                this.x = x;
                this.y = y;
                this.width = 28;
                this.height = 28;
                this.health = type === 'dragon' ? 50 : 20;
                this.maxHealth = this.health;
                this.speed = type === 'dragon' ? 1.5 : 2;
                this.type = type;
                this.direction = Math.random() * Math.PI * 2;
                this.changeDirectionTimer = 0;
                this.attackCooldown = 0;
                this.dead = false;
            }

            update() {
                if (this.dead) return;

                // AI movement towards player
                const dx = player.x - this.x;
                const dy = player.y - this.y;
                const distance = Math.sqrt(dx * dx + dy * dy);

                if (distance > 5) {
                    this.x += (dx / distance) * this.speed;
                    this.y += (dy / distance) * this.speed;
                }

                // Attack player if close
                if (distance < 40 && this.attackCooldown <= 0) {
                    this.attackPlayer();
                    this.attackCooldown = 60;
                }

                if (this.attackCooldown > 0) {
                    this.attackCooldown--;
                }

                // Keep enemies on screen
                this.x = Math.max(20, Math.min(canvas.width - 20, this.x));
                this.y = Math.max(20, Math.min(canvas.height - 20, this.y));
            }

            attackPlayer() {
                const dx = player.x - this.x;
                const dy = player.y - this.y;
                const distance = Math.sqrt(dx * dx + dy * dy);
                
                if (distance < 50) {
                    gameState.health -= this.type === 'dragon' ? 15 : 10;
                    createParticles(player.x, player.y, '#ff0000', 5);
                    
                    if (gameState.health <= 0) {
                        gameState.gameOver = true;
                    }
                }
            }

            draw() {
                if (this.dead) return;

                // Draw enemy based on type
                if (this.type === 'dragon') {
                    // Dragon (larger, red)
                    ctx.fillStyle = '#8B0000';
                    ctx.fillRect(this.x - 20, this.y - 20, 40, 40);
                    ctx.fillStyle = '#FF4500';
                    ctx.fillRect(this.x - 15, this.y - 15, 30, 30);
                    // Dragon eyes
                    ctx.fillStyle = '#FFFF00';
                    ctx.fillRect(this.x - 10, this.y - 10, 6, 6);
                    ctx.fillRect(this.x + 4, this.y - 10, 6, 6);
                } else {
                    // Goblin (green)
                    ctx.fillStyle = '#228B22';
                    ctx.fillRect(this.x - this.width/2, this.y - this.height/2, this.width, this.height);
                    ctx.fillStyle = '#32CD32';
                    ctx.fillRect(this.x - this.width/2 + 4, this.y - this.height/2 + 4, this.width - 8, this.height - 8);
                    // Eyes
                    ctx.fillStyle = '#FF0000';
                    ctx.fillRect(this.x - 8, this.y - 8, 4, 4);
                    ctx.fillRect(this.x + 4, this.y - 8, 4, 4);
                }

                // Health bar
                const barWidth = 30;
                const barHeight = 4;
                const healthPercent = this.health / this.maxHealth;
                
                ctx.fillStyle = '#FF0000';
                ctx.fillRect(this.x - barWidth/2, this.y - this.height/2 - 10, barWidth, barHeight);
                ctx.fillStyle = '#00FF00';
                ctx.fillRect(this.x - barWidth/2, this.y - this.height/2 - 10, barWidth * healthPercent, barHeight);
            }

            takeDamage(damage) {
                this.health -= damage;
                createParticles(this.x, this.y, '#FF0000', 8);
                
                if (this.health <= 0) {
                    this.dead = true;
                    gameState.enemiesDefeated++;
                    gameState.score += this.type === 'dragon' ? 500 : 100;
                    createParticles(this.x, this.y, '#FFD700', 15);
                    
                    // Check victory condition
                    if (gameState.enemiesDefeated >= gameState.totalEnemies) {
                        gameState.victory = true;
                    }
                }
            }
        }

        // Treasure class
        class Treasure {
            constructor(x, y) {
                this.x = x;
                this.y = y;
                this.width = 20;
                this.height = 20;
                this.collected = false;
                this.bobOffset = Math.random() * Math.PI * 2;
                this.value = 50;
            }

            update() {
                this.bobOffset += 0.1;
            }

            draw() {
                if (this.collected) return;
                
                const bobY = this.y + Math.sin(this.bobOffset) * 3;
                
                // Draw treasure chest
                ctx.fillStyle = '#8B4513';
                ctx.fillRect(this.x - 10, bobY - 8, 20, 16);
                ctx.fillStyle = '#FFD700';
                ctx.fillRect(this.x - 8, bobY - 6, 16, 4);
                ctx.fillRect(this.x - 2, bobY - 10, 4, 8);
                
                // Sparkle effect
                ctx.fillStyle = '#FFFF00';
                ctx.fillRect(this.x - 1, bobY - 1, 2, 2);
            }

            collect() {
                if (!this.collected) {
                    this.collected = true;
                    gameState.treasures++;
                    gameState.score += this.value;
                    gameState.health = Math.min(gameState.maxHealth, gameState.health + 20);
                    createParticles(this.x, this.y, '#FFD700', 10);
                }
            }
        }

        // Particle system
        function createParticles(x, y, color, count) {
            for (let i = 0; i < count; i++) {
                particles.push({
                    x: x,
                    y: y,
                    vx: (Math.random() - 0.5) * 6,
                    vy: (Math.random() - 0.5) * 6,
                    color: color,
                    life: 30,
                    maxLife: 30
                });
            }
        }

        function updateParticles() {
            for (let i = particles.length - 1; i >= 0; i--) {
                const particle = particles[i];
                particle.x += particle.vx;
                particle.y += particle.vy;
                particle.vx *= 0.98;
                particle.vy *= 0.98;
                particle.life--;
                
                if (particle.life <= 0) {
                    particles.splice(i, 1);
                }
            }
        }

        function drawParticles() {
            particles.forEach(particle => {
                const alpha = particle.life / particle.maxLife;
                ctx.globalAlpha = alpha;
                ctx.fillStyle = particle.color;
                ctx.fillRect(particle.x - 2, particle.y - 2, 4, 4);
                ctx.globalAlpha = 1;
            });
        }

        // Initialize game
        function initGame() {
            // Create enemies
            enemies = [];
            for (let i = 0; i < 4; i++) {
                enemies.push(new Enemy(
                    Math.random() * (canvas.width - 100) + 50,
                    Math.random() * (canvas.height - 100) + 50,
                    'goblin'
                ));
            }
            
            // Add dragon boss
            enemies.push(new Enemy(canvas.width - 100, canvas.height - 100, 'dragon'));
            
            // Create treasures
            treasures = [];
            for (let i = 0; i < 8; i++) {
                treasures.push(new Treasure(
                    Math.random() * (canvas.width - 100) + 50,
                    Math.random() * (canvas.height - 100) + 50
                ));
            }
        }

        // Player movement
        function updatePlayer() {
            if (gameState.paused || gameState.gameOver) return;

            let moved = false;
            
            if (keys['w'] || keys['arrowup']) {
                player.y -= player.speed;
                moved = true;
            }
            if (keys['s'] || keys['arrowdown']) {
                player.y += player.speed;
                moved = true;
            }
            if (keys['a'] || keys['arrowleft']) {
                player.x -= player.speed;
                player.direction = 'left';
                moved = true;
            }
            if (keys['d'] || keys['arrowright']) {
                player.x += player.speed;
                player.direction = 'right';
                moved = true;
            }

            // Keep player on screen
            player.x = Math.max(player.width/2, Math.min(canvas.width - player.width/2, player.x));
            player.y = Math.max(player.height/2, Math.min(canvas.height - player.height/2, player.y));

            if (player.attackCooldown > 0) {
                player.attackCooldown--;
            }
        }

        // Attack function
        function attack() {
            if (player.attackCooldown > 0 || gameState.paused || gameState.gameOver) return;
            
            player.attacking = true;
            player.attackCooldown = 20;
            
            // Check for enemies in attack range
            enemies.forEach(enemy => {
                if (enemy.dead) return;
                
                const dx = enemy.x - player.x;
                const dy = enemy.y - player.y;
                const distance = Math.sqrt(dx * dx + dy * dy);
                
                if (distance < 60) {
                    enemy.takeDamage(25);
                }
            });
            
            setTimeout(() => {
                player.attacking = false;
            }, 200);
        }

        // Collect treasures
        function collectNearbyTreasures() {
            treasures.forEach(treasure => {
                if (treasure.collected) return;
                
                const dx = treasure.x - player.x;
                const dy = treasure.y - player.y;
                const distance = Math.sqrt(dx * dx + dy * dy);
                
                if (distance < 40) {
                    treasure.collect();
                }
            });
        }

        // Draw player
        function drawPlayer() {
            // Player body (knight)
            ctx.fillStyle = player.attacking ? '#FF6B6B' : '#4ECDC4';
            ctx.fillRect(player.x - player.width/2, player.y - player.height/2, player.width, player.height);
            
            // Armor details
            ctx.fillStyle = '#C0C0C0';
            ctx.fillRect(player.x - player.width/2 + 4, player.y - player.height/2 + 4, player.width - 8, player.height - 8);
            
            // Helmet
            ctx.fillStyle = '#808080';
            ctx.fillRect(player.x - 12, player.y - 20, 24, 16);
            
            // Sword (when attacking)
            if (player.attacking) {
                ctx.fillStyle = '#FFD700';
                if (player.direction === 'right') {
                    ctx.fillRect(player.x + 16, player.y - 8, 20, 4);
                } else {
                    ctx.fillRect(player.x - 36, player.y - 8, 20, 4);
                }
            }
            
            // Eyes
            ctx.fillStyle = '#0000FF';
            ctx.fillRect(player.x - 8, player.y - 8, 3, 3);
            ctx.fillRect(player.x + 5, player.y - 8, 3, 3);
        }

        // Draw background
        function drawBackground() {
            // Sky gradient
            const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
            gradient.addColorStop(0, '#87CEEB');
            gradient.addColorStop(1, '#98FB98');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Simple terrain
            ctx.fillStyle = '#228B22';
            for (let i = 0; i < canvas.width; i += 40) {
                for (let j = 0; j < canvas.height; j += 40) {
                    if (Math.random() > 0.8) {
                        ctx.fillRect(i, j, 8, 8);
                    }
                }
            }
        }

        // Game loop
        function gameLoop() {
            if (!gameState.paused && !gameState.gameOver && !gameState.victory) {
                updatePlayer();
                
                enemies.forEach(enemy => enemy.update());
                treasures.forEach(treasure => treasure.update());
                updateParticles();
            }
            
            // Draw everything
            drawBackground();
            drawPlayer();
            enemies.forEach(enemy => enemy.draw());
            treasures.forEach(treasure => treasure.draw());
            drawParticles();
            
            // Draw UI
            drawUI();
            
            // Update stats display
            updateStatsDisplay();
            
            requestAnimationFrame(gameLoop);
        }

        function drawUI() {
            if (gameState.gameOver) {
                ctx.fillStyle = 'rgba(0, 0, 0, 0.8)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                ctx.fillStyle = '#FF0000';
                ctx.font = '48px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('GAME OVER', canvas.width/2, canvas.height/2);
                
                ctx.fillStyle = '#FFFFFF';
                ctx.font = '24px Arial';
                ctx.fillText('Press R to restart', canvas.width/2, canvas.height/2 + 50);
            } else if (gameState.victory) {
                ctx.fillStyle = 'rgba(0, 0, 0, 0.8)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                ctx.fillStyle = '#FFD700';
                ctx.font = '48px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('VICTORY!', canvas.width/2, canvas.height/2);
                
                ctx.fillStyle = '#FFFFFF';
                ctx.font = '24px Arial';
                ctx.fillText('Dragon Slain! Press R to play again', canvas.width/2, canvas.height/2 + 50);
            } else if (gameState.paused) {
                ctx.fillStyle = 'rgba(0, 0, 0, 0.6)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                ctx.fillStyle = '#FFFFFF';
                ctx.font = '36px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('PAUSED', canvas.width/2, canvas.height/2);
            }
            
            ctx.textAlign = 'left';
        }

        function updateStatsDisplay() {
            document.getElementById('health').textContent = Math.max(0, gameState.health);
            document.getElementById('score').textContent = gameState.score;
            document.getElementById('level').textContent = gameState.level;
            document.getElementById('treasures').textContent = gameState.treasures;
        }

        // Game controls
        function restartGame() {
            gameState = {
                level: 1,
                health: 100,
                maxHealth: 100,
                score: 0,
                treasures: 0,
                paused: false,
                gameOver: false,
                victory: false,
                enemiesDefeated: 0,
                totalEnemies: 5
            };
            
            player.x = 100;
            player.y = 100;
            player.attacking = false;
            player.attackCooldown = 0;
            
            particles = [];
            initGame();
        }

        function pauseGame() {
            gameState.paused = !gameState.paused;
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            if (e.key.toLowerCase() === 'r' && (gameState.gameOver || gameState.victory)) {
                restartGame();
            }
            if (e.key.toLowerCase() === 'p') {
                pauseGame();
            }
        });

        // Initialize and start game
        initGame();
        gameLoop();
    </script>
</body>
</html>

