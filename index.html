<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Bot Built Arcade</title>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5140771119439935" crossorigin="anonymous"></script>
	<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
	<link rel="icon" type="image/png" href="images/botbuiltarcade-icon-face.png">
	<style>
		body {
			margin: 0;
			padding: 0;
			background: linear-gradient(135deg, #D2691E 0%, #FF6347 50%, #FF4500 100%);
			font-family: 'Press Start 2P', cursive;
			display: flex;
			justify-content: center;
			align-items: center;
			min-height: 100vh;
			color: #F5F5DC;
			position: relative;
		}

		body::before {
			content: '';
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-image: url('images/botbuiltarcade-icon-face.png');
			background-size: 200px 200px;
			background-repeat: no-repeat;
			background-position: top right;
			opacity: 0.1;
			z-index: -1;
			pointer-events: none;
		}

		#container {
			text-align: center;
			background: rgba(0, 0, 0, 0.85);
			padding: 30px;
			border-radius: 20px;
			border: 4px solid #FFD700;
			box-shadow: 0 0 40px rgba(255, 215, 0, 0.6);
			max-width: 900px;
			margin: 20px;
			position: relative;
		}

		.header-logo {
			display: flex;
			align-items: center;
			justify-content: center;
			margin-bottom: 30px;
			gap: 20px;
		}

		.header-logo img {
			width: 60px;
			height: 60px;
			border-radius: 50%;
			border: 3px solid #FFD700;
			box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
		}

		h1 {
			font-size: 32px;
			margin: 0;
			text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.7);
			background: linear-gradient(45deg, #FFD700, #FFA500);
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
			background-clip: text;
		}

		h2 {
			font-size: 24px;
			margin: 30px 0 20px 0;
			color: #5F9EA0;
			text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
		}

		.featured {
			background: linear-gradient(135deg, rgba(95, 158, 160, 0.2), rgba(255, 215, 0, 0.1));
			padding: 25px;
			border-radius: 15px;
			border: 2px solid #5F9EA0;
			margin: 30px 0;
			box-shadow: 0 0 25px rgba(95, 158, 160, 0.3);
		}

		.featured h2 {
			color: #FFD700;
			font-size: 28px;
			margin-bottom: 15px;
		}

		.date-info {
			color: #5F9EA0;
			font-size: 12px;
			margin-bottom: 15px;
			font-style: italic;
		}

		.featured p {
			font-size: 14px;
			line-height: 1.6;
			margin: 20px 0;
			color: #F5F5DC;
		}

		.play-btn {
			display: inline-block;
			background: linear-gradient(45deg, #5F9EA0, #4682B4);
			color: white;
			padding: 15px 30px;
			text-decoration: none;
			border-radius: 10px;
			font-size: 16px;
			margin: 20px 0;
			transition: all 0.3s ease;
			border: 2px solid #FFD700;
			box-shadow: 0 4px 15px rgba(95, 158, 160, 0.4);
		}

		.play-btn:hover {
			background: linear-gradient(45deg, #4682B4, #5F9EA0);
			transform: translateY(-3px);
			box-shadow: 0 6px 20px rgba(95, 158, 160, 0.6);
		}

		.rate {
			margin: 15px 0;
			font-size: 24px;
		}

		.rate span {
			color: #666;
			cursor: pointer;
			transition: color 0.2s ease;
		}

               .rate span:hover,
               .rate span.selected {
                       color: #FFD700;
                       text-shadow: 0 0 10px rgba(255, 215, 0, 0.8);
               }

		.score {
			display: block;
			margin-top: 10px;
			font-size: 12px;
			color: #5F9EA0;
		}

		.ad-container {
			margin: 30px 0;
			padding: 20px;
			background: rgba(255, 255, 255, 0.05);
			border-radius: 10px;
			border: 1px solid rgba(255, 215, 0, 0.2);
		}
		.feedback {
			margin: 40px 0;
			color: #5F9EA0;
			font-size: 14px;
			line-height: 1.6;
		}
		.feedback a {
			color: #FFD700;
			text-decoration: none;
		}
		.feedback a:hover {
			color: #FFA500;
		}

		ul {
			list-style: none;
			padding: 0;
		}

		li {
			margin: 15px 0;
			background: rgba(255, 215, 0, 0.05);
			padding: 15px;
			border-radius: 10px;
			border: 1px solid rgba(255, 215, 0, 0.2);
			transition: all 0.3s ease;
		}

		li:hover {
			background: rgba(255, 215, 0, 0.1);
			transform: translateY(-2px);
			box-shadow: 0 4px 15px rgba(255, 215, 0, 0.2);
		}

		li a {
			font-size: 18px;
			color: #5F9EA0;
			text-decoration: none;
			transition: color 0.3s ease;
		}

		li a:hover {
			color: #FFD700;
			text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
		}
	</style>
</head>
<body>
	<div id="container">
		<div class="header-logo">
			<img src="images/botbuiltarcade-icon-face.png" alt="BotBuilt Arcade Robot">
			<h1>Bot Built Arcade</h1>
		</div>

		<p class="feedback">Have a bug or suggestion? Post your bugs, feedback, and suggestions for improvement on the <a href="https://www.reddit.com/r/BotBuiltArcade/" target="_blank">r/BotBuiltArcade</a> subreddit.</p>

        <!-- When adding a new featured game, update the content below and ensure the
             .rate div has a unique data-id with a <span class="score"></span> right
             after it. This preserves the rating system when rotating featured games. -->
        <div class="featured">
            <h2>Featured Game: Aurora Tower Defense</h2>
            <div class="date-info">Created: August 10, 2025</div>
            <p>Build icy and plasma towers on lush grass to stop neon bugs from reaching the Aurora Core. Designed for touch and desktop with smooth waves and satisfying arcade vibes.</p>
            <a href="aurora_tower_defense.html" class="play-btn">Play Now!</a>
            <div class="rate" data-id="aurora-tower-defense">
                <span data-star="1">★</span>
                <span data-star="2">★</span>
                <span data-star="3">★</span>
                <span data-star="4">★</span>
                <span data-star="5">★</span>
            </div>
            <span class="score"></span>
        </div>

		<!-- Advertisement -->
		<div class="ad-container" style="margin: 20px 0;">
			<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5140771119439935" crossorigin="anonymous"></script>
			<ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5140771119439935"
				data-ad-slot="1234567890" data-ad-format="auto" data-full-width-responsive="true"></ins>
			<script>
				(adsbygoogle = window.adsbygoogle || []).push({});
			</script>
		</div>

		        <h2>More Games</h2>
        <ul id="games">
            <!-- Hyperlane Hopper removed -->
            <li data-id="neon-brick-breaker"><a href="neon_brick_breaker.html">Neon Brick Breaker</a>
                <div class="rate">
                    <span data-star="1">★</span>
                    <span data-star="2">★</span>
                    <span data-star="3">★</span>
                    <span data-star="4">★</span>
                    <span data-star="5">★</span>
                </div>
                <span class="score"></span>
            </li>
			<li data-id="ocean-explorer"><a href="ocean_explorer.html">Ocean Explorer</a>
				<div class="rate">
					<span data-star="1">★</span>
					<span data-star="2">★</span>
					<span data-star="3">★</span>
					<span data-star="4">★</span>
					<span data-star="5">★</span>
				</div>
				<span class="score"></span>
			</li>
			<li data-id="cozy-cafe-manager"><a href="cozy_cafe_manager.html">Cozy Café Manager</a>
				<div class="rate">
					<span data-star="1">★</span>
					<span data-star="2">★</span>
					<span data-star="3">★</span>
					<span data-star="4">★</span>
					<span data-star="5">★</span>
				</div>
				<span class="score"></span>
			</li>
			<li data-id="chibi-garden-paradise"><a href="chibi_garden_paradise.html">Chibi Garden Paradise</a>
				<div class="rate">
					<span data-star="1">★</span>
					<span data-star="2">★</span>
					<span data-star="3">★</span>
					<span data-star="4">★</span>
					<span data-star="5">★</span>
				</div>
				<span class="score"></span>
			</li>
			<li data-id="retro-racing-championship"><a href="retro_racing_championship.html">Retro Racing Championship</a>
				<div class="rate">
					<span data-star="1">★</span>
					<span data-star="2">★</span>
					<span data-star="3">★</span>
					<span data-star="4">★</span>
					<span data-star="5">★</span>
				</div>
				<span class="score"></span>
			</li>
			<li data-id="galactic-bounty-hunter"><a href="galactic_bounty_hunter.html">Galactic Bounty Hunter</a>
				<div class="rate">
					<span data-star="1">★</span>
					<span data-star="2">★</span>
					<span data-star="3">★</span>
					<span data-star="4">★</span>
					<span data-star="5">★</span>
				</div>
				<span class="score"></span>
			</li>
			<li data-id="mystic-forest-guardian"><a href="mystic_forest_guardian.html">Mystic Forest Guardian</a>
				<div class="rate">
					<span data-star="1">★</span>
					<span data-star="2">★</span>
					<span data-star="3">★</span>
					<span data-star="4">★</span>
					<span data-star="5">★</span>
				</div>
				<span class="score"></span>
			</li>
			<li data-id="neon-streets-fighter"><a href="neon_streets_fighter.html">Neon Streets Fighter</a>
				<div class="rate">
					<span data-star="1">★</span>
					<span data-star="2">★</span>
					<span data-star="3">★</span>
					<span data-star="4">★</span>
					<span data-star="5">★</span>
				</div>
				<span class="score"></span>
			</li>
			<li data-id="cyber-samurai"><a href="cyber_samurai.html">Cyber Samurai</a>
				<div class="rate">
					<span data-star="1">★</span>
					<span data-star="2">★</span>
					<span data-star="3">★</span>
					<span data-star="4">★</span>
					<span data-star="5">★</span>
				</div>
				<span class="score"></span>
			</li>
			<li data-id="dragon-slayer-adventure"><a href="dragon_slayer.html">Dragon Slayer Adventure</a>
				<div class="rate">
					<span data-star="1">★</span>
					<span data-star="2">★</span>
					<span data-star="3">★</span>
					<span data-star="4">★</span>
					<span data-star="5">★</span>
				</div>
				<span class="score"></span>
			</li>
			<li data-id="maze-runner-3d"><a href="maze_runner_3d.html">Maze Runner 3D</a>
				<div class="rate">
					<span data-star="1">★</span>
					<span data-star="2">★</span>
					<span data-star="3">★</span>
					<span data-star="4">★</span>
					<span data-star="5">★</span>
				</div>
				<span class="score"></span>
			</li>
			<li data-id="pixel-adventure"><a href="pixel_adventure.html">Pixel Adventure</a>
				<div class="rate">
					<span data-star="1">★</span>
					<span data-star="2">★</span>
					<span data-star="3">★</span>
					<span data-star="4">★</span>
					<span data-star="5">★</span>
				</div>
				<span class="score"></span>
			</li>
			<li data-id="bubble-pop-puzzle"><a href="bubble_pop_puzzle.html">Bubble Pop Puzzle</a>
				<div class="rate">
					<span data-star="1">★</span>
					<span data-star="2">★</span>
					<span data-star="3">★</span>
					<span data-star="4">★</span>
					<span data-star="5">★</span>
				</div>
				<span class="score"></span>
			</li>
			<li data-id="crystal-quest-adventure"><a href="crystal_quest.html">Crystal Quest Adventure</a>
				<div class="rate">
					<span data-star="1">★</span>
					<span data-star="2">★</span>
					<span data-star="3">★</span>
					<span data-star="4">★</span>
					<span data-star="5">★</span>
				</div>
				<span class="score"></span>
			</li>
			<li data-id="physics-puzzle"><a href="physics_puzzle.html">Physics Puzzle</a>
				<div class="rate">
					<span data-star="1">★</span>
					<span data-star="2">★</span>
					<span data-star="3">★</span>
					<span data-star="4">★</span>
					<span data-star="5">★</span>
				</div>
				<span class="score"></span>
			</li>
			<li data-id="color-match-puzzle"><a href="color_match_puzzle.html">Color Match Puzzle</a>
				<div class="rate">
					<span data-star="1">★</span>
					<span data-star="2">★</span>
					<span data-star="3">★</span>
					<span data-star="4">★</span>
					<span data-star="5">★</span>
				</div>
				<span class="score"></span>
			</li>
			<li data-id="memory-match"><a href="memory_match.html">Memory Match</a>
				<div class="rate">
					<span data-star="1">★</span>
					<span data-star="2">★</span>
					<span data-star="3">★</span>
					<span data-star="4">★</span>
					<span data-star="5">★</span>
				</div>
				<span class="score"></span>
			</li>
			<li data-id="number-guessing"><a href="number_guessing.html">Number Guessing</a>
				<div class="rate">
					<span data-star="1">★</span>
					<span data-star="2">★</span>
					<span data-star="3">★</span>
					<span data-star="4">★</span>
					<span data-star="5">★</span>
				</div>
				<span class="score"></span>
			</li>
			<li data-id="rock-paper-scissors"><a href="rock_paper_scissors.html">Rock Paper Scissors</a>
				<div class="rate">
					<span data-star="1">★</span>
					<span data-star="2">★</span>
					<span data-star="3">★</span>
					<span data-star="4">★</span>
					<span data-star="5">★</span>
				</div>
				<span class="score"></span>
			</li>
		</ul>
	</div>

       <script>
               // Rating system
               document.addEventListener('DOMContentLoaded', function() {
                       const ratingContainers = document.querySelectorAll('.rate');

                       ratingContainers.forEach(container => {
                               // Support data-id on the .rate itself (featured) or on a parent <li> (more games)
                               const gameId = container.dataset.id || container.closest('[data-id]')?.dataset.id || '';
                               const stars = container.querySelectorAll('span[data-star]');
                               const scoreElement = container.nextElementSibling;

                               // Load existing rating
                               loadRating(gameId, stars, scoreElement);

                               stars.forEach(star => {
                                       star.addEventListener('click', function() {
                                               const rating = parseInt(this.getAttribute('data-star'));
                                               submitRating(gameId, rating, stars, scoreElement);
                                       });
                               });
                       });
               });

               async function loadRating(gameId, stars, scoreElement) {
                       try {
                               if (!gameId) return;
                               const response = await fetch(`/api/ratings/${encodeURIComponent(gameId)}`);
                               if (response.ok) {
                                       const data = await response.json();
                                       // Update score text using API fields: average, votes, mine
                                       if (scoreElement) {
                                               scoreElement.textContent = `${data.average} ★ from ${data.votes} votes` + (data.mine ? ` - You rated ${data.mine}` : '');
                                       }
                                       // Reflect user's rating if available
                                       if (data && typeof data.mine === 'number') {
                                               stars.forEach(span => {
                                                       const val = parseInt(span.getAttribute('data-star'));
                                                       span.classList.toggle('selected', val <= data.mine);
                                               });
                                       }
                               }
                       } catch (error) {
                               console.log('Rating system not available');
                       }
               }

               async function submitRating(gameId, rating, stars, scoreElement) {
                       try {
                               if (!gameId || !rating) return;
                               const response = await fetch('/api/rate', {
                                       method: 'POST',
                                       headers: {
                                               'Content-Type': 'application/json',
                                       },
                                       body: JSON.stringify({
                                               gameId: gameId,
                                               stars: rating
                                       })
                               });

                               if (response.ok) {
                                       // Update visual feedback
                                       stars.forEach(span => {
                                               const val = parseInt(span.getAttribute('data-star'));
                                               span.classList.toggle('selected', val <= rating);
                                       });

                                       // Reload rating display
                                       loadRating(gameId, stars, scoreElement);
                               } else {
                                       const errorText = await response.text().catch(() => '');
                                       alert(errorText || 'Failed to submit rating');
                               }
                       } catch (error) {
                               console.log('Rating submission failed:', error);
                       }
               }
       </script>
</body>
</html>

