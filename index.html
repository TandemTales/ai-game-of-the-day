<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Bot Built Arcade</title>
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5140771119439935" crossorigin="anonymous"></script>
        <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
        <style>
                body {
                        margin: 0;
                        padding: 0;
                        background: linear-gradient(135deg, #ff0080 0%, #7e2eff 50%, #00e6ff 100%);
                        font-family: 'Press Start 2P', cursive;
                        display: flex;
                        justify-content: center;
                        align-items: center;
                        min-height: 100vh;
                        color: white;
                }

                #container {
                        text-align: center;
                        background: rgba(0, 0, 0, 0.8);
                        padding: 20px;
                        border-radius: 15px;
                        border: 3px solid #ff00ff;
                        box-shadow: 0 0 30px rgba(255, 0, 255, 0.5);
                }

		#gameCanvas {
			border: 3px solid #00ffff;
			border-radius: 10px;
			background: linear-gradient(180deg, #87CEEB 0%, #98FB98 100%);
			box-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
		}

                h1 {
                        margin-top: 0;
                        color: #ffff00;
                        font-size: 29px;
                        margin-bottom: 10px;
                        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
                        background: linear-gradient(45deg, #ff00ff, #00ff88);
                        -webkit-background-clip: text;
                        -webkit-text-fill-color: transparent;
                        background-clip: text;
                }

                .featured {
                        background: rgba(255, 255, 255, 0.1);
                        padding: 20px;
                        border-radius: 8px;
                        margin-bottom: 30px;
                        box-shadow: 0 0 15px rgba(255, 0, 255, 0.4);
                }

		.featured h2 {
			margin-top: 0;
			color: #fff80d;
			text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.5);
		}

		.featured p {
			margin: 10px 0 20px;
			color: #fff;
			font-size: 16px;
		}

                .play-btn {
                        background: linear-gradient(45deg, #ff00ff, #00ff88);
                        color: #000;
                        text-decoration: none;
                        padding: 10px 20px;
                        border-radius: 5px;
                        font-size: 16px;
                        font-weight: bold;
                        box-shadow: 0 0 15px rgba(0, 0, 0, 0.3);
                        display: inline-block;
                        margin-bottom: 10px;
                }

                .play-btn:hover {
                        transform: translateY(-2px);
                        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
                }

                .rate {
                        display: flex;
                        justify-content: center;
                        gap: 5px;
                        margin-top: 10px;
                }

		ul {
			list-style: none;
			padding: 0;
		}

		li {
			margin: 12px 0;
		}

                li a {
                        font-size: 18px;
                        color: #00ffff;
                        text-decoration: underline;
                }

                li a:hover {
                        text-decoration: underline;
                        color: #ffea00;
                }

		.rate span {
			cursor: pointer;
			color: gold;
		}

		.rate span.selected {
			color: orange;
		}

		.rate span:hover {
			background-color: #1affff;
			box-shadow: 0 0 12px #1affff;
		}

                .score {
                        display: block;
                        margin-top: 5px;
                        color: #ffea00;
                }
        </style>
</head>
<body>
	<div id="container">
		<h1>Bot Built Arcade</h1>

		<div class="featured">
			<h2>Featured Game: Dragon Slayer Adventure</h2>
			<p>Embark on an epic quest to slay the ancient dragon! Navigate through mystical lands, collect treasures, and battle fierce enemies. Use WASD or Arrow Keys to move, SPACE to attack, and E to collect items. Defeat all enemies to unlock the dragon's lair!</p>
			<a href="dragon_slayer.html" class="play-btn">Play Now!</a>
			<div class="rate" data-id="dragon-slayer">
				<span data-star="1">★</span>
				<span data-star="2">★</span>
				<span data-star="3">★</span>
				<span data-star="4">★</span>
				<span data-star="5">★</span>
			</div>
			<span class="score"></span>
		</div>

                <!-- Advertisement -->
                <div class="ad-container" style="margin: 20px 0;">
                        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5140771119439935" crossorigin="anonymous"></script>
                        <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5140771119439935"
                                data-ad-slot="1234567890" data-ad-format="auto" data-full-width-responsive="true"></ins>
                        <script>
                                (adsbygoogle = window.adsbygoogle || []).push({});
                        </script>
                </div>

		<h2>More Games</h2>
		<ul id="games">
			<li data-id="maze-runner-3d"><a href="maze_runner_3d.html">Maze Runner 3D</a>
				<div class="rate">
					<span data-star="1">★</span>
					<span data-star="2">★</span>
					<span data-star="3">★</span>
					<span data-star="4">★</span>
					<span data-star="5">★</span>
				</div>
				<span class="score"></span>
			</li>
			<li data-id="pixel-adventure"><a href="pixel_adventure.html">Pixel Adventure</a>
				<div class="rate">
					<span data-star="1">★</span>
					<span data-star="2">★</span>
					<span data-star="3">★</span>
					<span data-star="4">★</span>
					<span data-star="5">★</span>
				</div>
				<span class="score"></span>
			</li>
			<li data-id="bubble-pop-puzzle"><a href="bubble_pop_puzzle.html">Bubble Pop Puzzle</a>
				<div class="rate">
					<span data-star="1">★</span>
					<span data-star="2">★</span>
					<span data-star="3">★</span>
					<span data-star="4">★</span>
					<span data-star="5">★</span>
				</div>
				<span class="score"></span>
			</li>
			<li data-id="crystal-quest"><a href="crystal_quest.html">Crystal Quest Adventure</a>
				<div class="rate">
					<span data-star="1">★</span>
					<span data-star="2">★</span>
					<span data-star="3">★</span>
					<span data-star="4">★</span>
					<span data-star="5">★</span>
				</div>
				<span class="score"></span>
			</li>
			<li data-id="color-match-puzzle"><a href="color_match_puzzle.html">Color Match Puzzle</a>
				<div class="rate">
					<span data-star="1">★</span>
					<span data-star="2">★</span>
					<span data-star="3">★</span>
					<span data-star="4">★</span>
					<span data-star="5">★</span>
				</div>
				<span class="score"></span>
			</li>
			<li data-id="physics-puzzle"><a href="physics_puzzle.html">Physics Puzzle Challenge</a>
				<div class="rate">
					<span data-star="1">★</span>
					<span data-star="2">★</span>
					<span data-star="3">★</span>
					<span data-star="4">★</span>
					<span data-star="5">★</span>
				</div>
				<span class="score"></span>
			</li>
			<li data-id="tetris-3d"><a href="tetris_3d.html">3D Tetris</a>
				<div class="rate">
					<span data-star="1">★</span>
					<span data-star="2">★</span>
					<span data-star="3">★</span>
					<span data-star="4">★</span>
					<span data-star="5">★</span>
				</div>
				<span class="score"></span>
			</li>
			<li data-id="snake-game"><a href="snake_game.html">Snake Game</a>
				<div class="rate">
					<span data-star="1">★</span>
					<span data-star="2">★</span>
					<span data-star="3">★</span>
					<span data-star="4">★</span>
					<span data-star="5">★</span>
				</div>
				<span class="score"></span>
			</li>
			<li data-id="space-shooter"><a href="space_shooter.html">Space Shooter</a>
				<div class="rate">
					<span data-star="1">★</span>
					<span data-star="2">★</span>
					<span data-star="3">★</span>
					<span data-star="4">★</span>
					<span data-star="5">★</span>
				</div>
				<span class="score"></span>
			</li>
			<li data-id="word-scramble"><a href="word_scramble.html">Word Scramble Adventure</a>
				<div class="rate">
					<span data-star="1">★</span>
					<span data-star="2">★</span>
					<span data-star="3">★</span>
					<span data-star="4">★</span>
					<span data-star="5">★</span>
				</div>
				<span class="score"></span>
			</li>
			<li data-id="memory-match"><a href="memory_match.html">Memory Match Game</a>
				<div class="rate">
					<span data-star="1">★</span>
					<span data-star="2">★</span>
					<span data-star="3">★</span>
					<span data-star="4">★</span>
					<span data-star="5">★</span>
				</div>
				<span class="score"></span>
			</li>
			<li data-id="number-guessing"><a href="number_guessing.html">Number Guessing Game</a>
				<div class="rate">
					<span data-star="1">★</span>
					<span data-star="2">★</span>
					<span data-star="3">★</span>
					<span data-star="4">★</span>
					<span data-star="5">★</span>
				</div>
				<span class="score"></span>
			</li>
			<li data-id="rock-paper-scissors"><a href="rock_paper_scissors.html">Rock Paper Scissors</a>
				<div class="rate">
					<span data-star="1">★</span>
					<span data-star="2">★</span>
					<span data-star="3">★</span>
					<span data-star="4">★</span>
					<span data-star="5">★</span>
				</div>
				<span class="score"></span>
			</li>
		</ul>
	</div>
	<script>
		document.querySelectorAll('.rate').forEach(rateEl => {
			const li = rateEl.closest('li') || rateEl.parentElement;
			const gameId = rateEl.dataset.id || li.dataset.id;
			const scoreEl = li.querySelector('.score');
			rateEl.querySelectorAll('span').forEach(span => {
				span.addEventListener('click', async () => {
					const rating = parseInt(span.dataset.star);
					// highlight immediately
					rateEl.querySelectorAll('span').forEach(s => {
						s.classList.toggle('selected', +s.dataset.star <= rating);
					});
					scoreEl.textContent = `You rated ${rating} ★`;
					try {
						await fetch('api/rate', {
							method: 'POST',
							headers: { 'Content-Type': 'application/json' },
							body: JSON.stringify({ gameId, stars: rating })
						});
						await load(gameId, rateEl, scoreEl);
					} catch (err) {
						console.error('Rating failed', err);
					}
				});
			});
			load(gameId, rateEl, scoreEl).catch(err => console.error(err));
		});

		async function load(gameId, rateEl, scoreEl) {
			try {
				const r = await fetch(`api/ratings/${encodeURIComponent(gameId)}`).then(r => r.json());
				scoreEl.textContent = `${r.average} ★ from ${r.votes} votes` + (r.mine ? ` - You rated ${r.mine}` : '');
				rateEl.querySelectorAll('span').forEach(span => {
					span.classList.toggle('selected', r.mine && +span.dataset.star <= r.mine);
				});
			} catch (err) {
				console.error('Failed to load rating', err);
			}
		}
	</script>
</body>

</html>

