<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bot Built Arcade</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #ff6060 0%, #6600ff 100%);
            padding: 40px;
            text-align: center;
            color: #fff;
        }
        #container {
            background: rgba(0, 0, 0, 0.7);
            max-width: 600px;
            margin: 0 auto;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.4);
        }
        h1 {
            margin-bottom: 30px;
            color: #fff80d;
            font-family: 'Courier New', monospace;
            text-shadow: 2px 2px 6px #000;
        }
        .featured {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            box-shadow: 0 0 10px rgba(255,255,255,0.3);
        }
        .featured h2 {
            margin-top: 0;
            color: #fff80d;
            text-shadow: 1px 1px 4px #000;
        }
        .featured p {
            margin: 10px 0 20px;
            color: #fff;
        }
        .play-btn {
            display: inline-block;
            padding: 10px 20px;
            background-color: #00e5ff;
            color: #000;
            text-decoration: none;
            border-radius: 5px;
            font-size: 16px;
            box-shadow: 0 0 8px #00e5ff;
        }
        .play-btn:hover {
            background-color: #1affff;
            box-shadow: 0 0 12px #1affff;
        }
        h2 {
            margin-top: 40px;
            color: #fff80d;
            text-shadow: 1px 1px 4px #000;
        }
        ul {
            list-style: none;
            padding: 0;
        }
        li {
            margin: 12px 0;
        }
        li a {
            font-size: 18px;
            color: #fff8ff;
            text-decoration: underline;
            color: #ffffff;
        }
        li a:hover {
            text-decoration: underline;
            color: #ffffff;
        }
        .rate span {
            cursor: pointer;
            color: gold;
        }
        .rate span.selected {
            color: orange;
        }
        .score {
            margin-left: 8px;
        }
    </style>
</head>
<body>
    <div id="container">
        <h1>Bot Built Arcade</h1>
        
        <div class="featured">
            <h2>Featured Game: ðŸŽ® Pixel Adventure</h2>
            <p>Jump through a colorful 2D platformer world! Collect golden coins while avoiding dangerous enemies. Use arrow keys or WASD to move and spacebar to jump. Beautiful pixel art graphics with smooth animations and particle effects. Can you collect all the coins and survive?</p>
            <a href="pixel_adventure.html" class="play-btn">Play Now!</a>
            <div class="rate" data-id="pixel-adventure">
                <span data-star="1">â˜…</span>
                <span data-star="2">â˜…</span>
                <span data-star="3">â˜…</span>
                <span data-star="4">â˜…</span>
                <span data-star="5">â˜…</span>
            </div>
            <span class="score"></span>
        </div>
        
        <!-- Advertisement -->
        <div class="ad-container" style="margin: 20px 0;">
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0000000000000000"
                 crossorigin="anonymous"></script>
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-0000000000000000"
                 data-ad-slot="1234567890"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>
        
        <h2>More Games</h2>
        <ul id="games">
            <li data-id="pixel-adventure"><a href="pixel_adventure.html">Pixel Adventure</a>
                <div class="rate">
                    <span data-star="1">â˜…</span>
                    <span data-star="2">â˜…</span>
                    <span data-star="3">â˜…</span>
                    <span data-star="4">â˜…</span>
                    <span data-star="5">â˜…</span>
                </div>
                <span class="score"></span>
            </li>
            <li data-id="bubble-pop-puzzle"><a href="bubble_pop_puzzle.html">Bubble Pop Puzzle</a>
                <div class="rate">
                    <span data-star="1">â˜…</span>
                    <span data-star="2">â˜…</span>
                    <span data-star="3">â˜…</span>
                    <span data-star="4">â˜…</span>
                    <span data-star="5">â˜…</span>
                </div>
                <span class="score"></span>
            </li>
            <li data-id="crystal-quest"><a href="crystal_quest.html">Crystal Quest Adventure</a>
                <div class="rate">
                    <span data-star="1">â˜…</span>
                    <span data-star="2">â˜…</span>
                    <span data-star="3">â˜…</span>
                    <span data-star="4">â˜…</span>
                    <span data-star="5">â˜…</span>
                </div>
                <span class="score"></span>
            </li>
            <li data-id="color-match-puzzle"><a href="color_match_puzzle.html">Color Match Puzzle</a>
                <div class="rate">
                    <span data-star="1">â˜…</span>
                    <span data-star="2">â˜…</span>
                    <span data-star="3">â˜…</span>
                    <span data-star="4">â˜…</span>
                    <span data-star="5">â˜…</span>
                </div>
                <span class="score"></span>
            </li>
            <li data-id="physics-puzzle"><a href="physics_puzzle.html">Physics Puzzle Platformer</a>
                <div class="rate">
                    <span data-star="1">â˜…</span>
                    <span data-star="2">â˜…</span>
                    <span data-star="3">â˜…</span>
                    <span data-star="4">â˜…</span>
                    <span data-star="5">â˜…</span>
                </div>
                <span class="score"></span>
            </li>
            <li data-id="snake-game"><a href="snake_game.html">Snake Game</a>
                <div class="rate">
                    <span data-star="1">â˜…</span>
                    <span data-star="2">â˜…</span>
                    <span data-star="3">â˜…</span>
                    <span data-star="4">â˜…</span>
                    <span data-star="5">â˜…</span>
                </div>
                <span class="score"></span>
            </li>
            <li data-id="tetris-3d"><a href="tetris_3d.html">3D Tetris</a>
                <div class="rate">
                    <span data-star="1">â˜…</span>
                    <span data-star="2">â˜…</span>
                    <span data-star="3">â˜…</span>
                    <span data-star="4">â˜…</span>
                    <span data-star="5">â˜…</span>
                </div>
                <span class="score"></span>
            </li>
            <li data-id="space-shooter"><a href="space_shooter.html">Space Shooter</a>
                <div class="rate">
                    <span data-star="1">â˜…</span>
                    <span data-star="2">â˜…</span>
                    <span data-star="3">â˜…</span>
                    <span data-star="4">â˜…</span>
                    <span data-star="5">â˜…</span>
                </div>
                <span class="score"></span>
            </li>
            <li data-id="word-scramble"><a href="word_scramble.html">Word Scramble Adventure</a>
                <div class="rate">
                    <span data-star="1">â˜…</span>
                    <span data-star="2">â˜…</span>
                    <span data-star="3">â˜…</span>
                    <span data-star="4">â˜…</span>
                    <span data-star="5">â˜…</span>
                </div>
                <span class="score"></span>
            </li>
            <li data-id="memory-match"><a href="memory_match.html">Memory Match Game</a>
                <div class="rate">
                    <span data-star="1">â˜…</span>
                    <span data-star="2">â˜…</span>
                    <span data-star="3">â˜…</span>
                    <span data-star="4">â˜…</span>
                    <span data-star="5">â˜…</span>
                </div>
                <span class="score"></span>
            </li>
            <li data-id="number-guessing"><a href="number_guessing.html">Number Guessing Game</a>
                <div class="rate">
                    <span data-star="1">â˜…</span>
                    <span data-star="2">â˜…</span>
                    <span data-star="3">â˜…</span>
                    <span data-star="4">â˜…</span>
                    <span data-star="5">â˜…</span>
                </div>
                <span class="score"></span>
            </li>
            <li data-id="rock-paper-scissors"><a href="rock_paper_scissors.html">Rock Paper Scissors</a>
                <div class="rate">
                    <span data-star="1">â˜…</span>
                    <span data-star="2">â˜…</span>
                    <span data-star="3">â˜…</span>
                    <span data-star="4">â˜…</span>
                    <span data-star="5">â˜…</span>
                </div>
                <span class="score"></span>
            </li>
        </ul>
    </div>
    <script>
        document.querySelectorAll('.rate').forEach(rateEl => {
            const li = rateEl.closest('li') || rateEl.parentElement;
            const gameId = rateEl.dataset.id || li.dataset.id;
            const scoreEl = li.querySelector('.score');
            rateEl.querySelectorAll('span').forEach(span => {
                span.addEventListener('click', async () => {
                    const rating = parseInt(span.dataset.star);
                    // highlight immediately
                    rateEl.querySelectorAll('span').forEach(s => {
                        s.classList.toggle('selected', +s.dataset.star <= rating);
                    });
                    scoreEl.textContent = `You rated ${rating} â˜…`;
                    try {
                        await fetch('api/rate', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({ gameId, stars: rating })
                        });
                        await load(gameId, rateEl, scoreEl);
                    } catch (err) {
                        console.error('Rating failed', err);
                    }
                });
            });
            load(gameId, rateEl, scoreEl).catch(err => console.error(err));
        });

        async function load(gameId, rateEl, scoreEl) {
            try {
                const r = await fetch(`api/ratings/${encodeURIComponent(gameId)}`).then(r => r.json());
                scoreEl.textContent = `${r.average} â˜… from ${r.votes} votes` + (r.mine ? ` - You rated ${r.mine}` : '');
                rateEl.querySelectorAll('span').forEach(span => {
                    span.classList.toggle('selected', r.mine && +span.dataset.star <= r.mine);
                });
            } catch (err) {
                console.error('Failed to load rating', err);
            }
        }
    </script>
</body>
</html>

